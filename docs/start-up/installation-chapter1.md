# 第 1 部分 安装

[[toc]]

## 第 1 章 安装快速入门

摘要

使用以下过程安装新版本的 openSUSE® Leap15.5。本文档简要概述了如何在 x86_64 架构上运行 openSUSE Leap 的默认安装。

有关更详细的安装说明，请参阅第 3 章安装步骤。要安装 AArch64 和 POWER 变体，请参阅 https://en.opensuse.org/Portal:ARM 和 https://en.opensuse.org/Portal:PowerPC 。

## 1.1 获取 openSUSE Leap

要下载 openSUSE Leap，请访问 https://get.opensuse.org/leap/ 。在下载选项卡上，您会找到不同架构的下载链接：

- Intel 或 AMD 64 位台式机、笔记本电脑和服务器 ( AMD64/Intel 64 )

- UEFI Arm 64 位服务器、台式机、笔记本电脑和主板 ( AArch64 )

- PowerPC 服务器（微型服务器， ppc64le ）

- IBM Z 和 IBM LinuxONE（IBM 服务器， s390x ）

您还可以选择下载两种不同的图像：离线图像和网络图像。查看选择要下载的媒体下下载页面上的文档以获取更多信息。

有关如何创建可启动安装媒体的文档也可以在下载页面上的 Easy Ways to Switch to openSUSE Leap 下找到。

## 1.2 最低系统要求

- 任何 AMD64 / Intel * EM64T 处理器（不支持 32 位处理器）

- 1 GB 物理 RAM（使用在线存储库时至少 1.5 GB，强烈推荐 4 GB 或更多）

- 10 GB 可用磁盘空间用于最小安装，16 GB 用于图形桌面（建议更多）。如果您计划使用 Btrfs 快照，建议根分区至少有 40 GB。

- 支持大多数现代声卡和显卡，1024 x 768 显示分辨率（推荐更高）

## 1.3 安装 openSUSE Leap

如果您的计算机上没有现有的 Linux 系统，或者如果您想要替换现有的 Linux 系统，请使用这些说明。

##### 1.3.1 引导安装系统

插入包含 openSUSE Leap 安装映像的 DVD 或可引导 U 盘，然后重新启动计算机以启动安装程序。在具有传统 BIOS 的计算机上，您将看到如下所示的图形引导屏幕。在配备 UEFI 的计算机上，使用的引导屏幕略有不同。支持 UEFI 计算机上的安全启动。

![[install_boot_osuse.png]](./image/install_boot_osuse.png)

在 BIOS 计算机上，使用 **F2** 更改安装程序的语言。会自动选择相应的键盘布局。有关更改引导参数的更多信息，请参阅 “[具有传统 BIOS 的计算机上的引导屏幕](https://doc.opensuse.org/documentation/leap/startup/html/book-startup/cha-boot-parameters.html#sec-boot-parameters-screen)” 或 “[配备 UEFI 的计算机上的引导屏幕](https://doc.opensuse.org/documentation/leap/startup/html/book-startup/cha-boot-parameters.html#sec-boot-parameters-uefi)” 部分。在 UEFI 计算机上，在“下一步”中调整语言和键盘设置。

在引导屏幕上选择*安装*，然后按 `Enter` 键。这将引导系统并加载 openSUSE Leap 安装程序。

##### 1.3.2 语言、键盘和许可协议

![[install_welcome_upgrade_osuse.png]](./image/install_welcome_upgrade_osuse.png)

在具有传统 BIOS 的系统上，语言和键盘布局设置使用您在引导屏幕上选择的语言进行初始化。如果您没有更改默认值，或者使用的是 UEFI 计算机，它将是英语（美国）。如有必要，更改此处的设置。使用 *键盘测试* 文本框来测试布局。

阅读许可协议。它以您选择的语言显示。其他许可证翻译可用。继续“下一步”。

##### 1.3.3 网络设置

![[install_network_osuse.png]](./image/install_network_osuse.png)

如果无法自动配置网络，则会打开“网络设置”对话框。从列表中选择一个网络接口并使用编辑对其进行配置。或者，手动添加接口。有关更多信息，请参阅名为“网络设置”和“使用 YaST 配置网络连接”的部分（“基本网络”部分，↑参考 "参考指南",Chapter 13）。如果您更喜欢在没有网络访问的情况下进行安装，请跳过此步骤而不做任何更改并继续“下一步”。

##### 1.3.4 在线资料库

执行系统分析，其中安装程序探测存储设备，并尝试查找其他已安装的系统。如果可以访问 Internet 的网络连接可用，您将被要求激活在线存储库。回答是继续。如果您无法访问 Internet，将跳过此步骤。

![[install_onlinerepos_ask_osuse.png]](./image/install_onlinerepos_ask_osuse.png)

在线存储库是官方的 openSUSE 包源。他们不仅提供安装介质中未包含的附加软件包，还提供包含安全性和错误修复的更新存储库。建议使用默认选择。至少添加主更新存储库，因为它确保系统安装了最新的安全补丁。

您有以下选择：

- 主存储库包含开源软件 (OSS)。与 DVD 安装介质相比，它包含许多额外的软件包，其中包括许多额外的桌面系统。

- 包含来自 SUSE Linux Enterprise 15 的更新的更新存储库和来自 openSUSE Backports 的更新存储库包含主存储库的更新。建议所有安装方案都选择此存储库。

- 非 OSS 存储库包含具有专有软件许可证的软件包。安装自定义桌面系统不需要选择它。

- 如果您启用了非 OSS 存储库，请选择 Update Repository (Non-OSS)。它包含相应的更新和安全修复程序。

- 所有其他存储库均供面向有经验的用户和开发人员使用。单击存储库名称以获取更多信息。

单击“下一步”确认您的选择。根据您的选择，您需要确认一份或多份许可协议。通过选择 *“下一步”* 来执行此操作，直到您进入 System Role <sup>(系统角色)</sup>屏幕。现在选择“下一步”继续。

##### 1.3.5 系统角色

![[install_ui_osuse.png]](./image/install_ui_osuse.png)

通过选择桌面或服务器配置，通过此步骤选择通用软件和系统配置。

对于桌面安装，请在 KDE Plasma 桌面、GNOME 桌面、Xfce 桌面或通用桌面之间进行选择。 KDE 和 Xfce 有点类似于 Windows。 GNOME 提供了一个替代的、创新的环境。如果您更喜欢 KDE、GNOME 或 Xfce 桌面的替代方案，请选择通用桌面。通过在“安装设置”对话框中选择“软件”，您将能够在稍后的安装过程中在 LXDE、MATE 和其他软件之间进行选择。

如果您正在设置服务器，您可能不需要图形用户界面。在这种情况下选择服务器（文本模式）。或者，通过选择 Transactional Server <sup>(事务服务器)</sup>设置具有只读根分区和事务更新的服务器系统。此选择也是设置 openSUSE Kubic 的先决条件。有关事务更新的更多信息，请参阅 https://kubic.opensuse.org/blog/2018-04-04-transactionalupdates/ 。

您也可以手动选择系统的软件配置。选择 Custom <sup>(自定义)</sup>，然后选择 Next 以进入 Software Selection and System Tasks 对话框。选择一种或多种模式进行安装。通过单击详细信息，您可以选择单个包。

::: tip 发行说明
从此时起，可以在安装过程中通过选择发行说明从任何屏幕查看发行说明。
:::

##### 1.3.6 建议分区

![[install_partitioner_osuse.png]](./image/install_partitioner_osuse.png)

在此步骤中为 openSUSE Leap 定义分区设置。查看系统建议的分区设置。如有必要，请更改它。您有以下选择：

##### 引导设置

启动一个向导，使您可以优化分区建议。此处可用的选项取决于您的系统设置。如果它包含多个硬盘，您可以选择要使用的磁盘以及放置根分区的位置。如果磁盘已经包含分区，请决定是删除它们还是调整它们的大小。

在后续步骤中，您还可以添加 LVM 支持和磁盘加密。您可以更改根分区的文件系统，并决定是否有一个单独的主分区。

##### 专家分区

打开“参考指南”中描述的专家分区器，在第五章 "专家分区器"部分，（参考 “5.1 使用专家分区”）。这使您可以完全控制分区设置并创建自定义设置。此选项适用于专家。

::: info 独立的home分区
默认建议不为 /home 创建单独的分区。 /home 目录包含用户的数据和个人配置文件。将它放在一个单独的目录中可以使将来重建系统更容易，或者允许在同一台计算机上与不同的 Linux 安装共享它。

如果您想更改为 /home 创建单独分区的建议，请选择 Guided Setup <sup>(引导式安装)</sup> 并单击“下一步”，直到进入 Filesystem Options <sup>(文件系统选项)</sup> 屏幕。检查建议单独的 *home* 分区。默认情况下，它将使用 XFS 进行格式化，但您可以选择使用不同的文件系统。再次单击“下一步”关闭对话框。
:::

要接受建议的设置而不做任何更改，请选择“下一步”继续。

##### 1.3.7 时钟和时区

![[install_timezone_osuse.png]](./image/install_timezone_osuse.png)

选择要在您的系统中使用的时钟和时区。要手动调整时间或配置 NTP 服务器进行时间同步，请选择其他设置。有关详细信息，请参阅名为“时钟和时区”的部分。继续“下一步”。

##### 1.3.8 本地用户

![[install_user_osuse.png]](./image/install_user_osuse.png)

要创建本地用户，请在“用户全名”字段中输入名字和姓氏，在“用户名”字段中输入登录名，并在“密码”字段中输入密码。

密码的长度至少应为八个字符，并且应包含大小写字母和数字。密码的最大长度为 72 个字符，并且密码区分大小写。

出于安全原因，强烈建议不要启用自动登录。您也不应为系统管理员使用此密码，而应在下一个安装步骤中提供单独的 root 密码。

如果您安装在以前安装过 Linux 的系统上，您可以从以前的安装中导入用户数据。单击选择用户以获取可用用户帐户的列表。选择一个或多个用户。

在集中管理用户（例如通过 NIS 或 LDAP）的环境中，您可能希望跳过本地用户的创建。在这种情况下选择跳过用户创建。

继续“下一步”。

##### 1.3.9 系统管理员“root”的身份验证

![[install_root_osuse.png]](./image/install_root_osuse.png)

为系统管理员帐户（称为 root 用户）提供密码。

您永远不应该忘记 root 密码！在此输入后，密码将无法找回。有关详细信息，请参阅名为“系统管理员 root 的身份验证”的部分。继续“下一步”。

::: tip 密码和键盘布局
建议仅使用美国 ASCII 字符。如果出现系统错误或需要以救援模式启动系统，键盘可能无法本地化。
:::

如果您想通过 SSH 登录启用无密码身份验证，您可以通过导入公共 SSH 密钥导入密钥。如果你想完全禁用 root 通过密码登录，只上传一个密钥，不要提供 root 密码。在这种情况下，只能使用相应的密钥通过 SSH 以系统管理员身份登录。

##### 1.3.10 安装设置

使用“安装设置”屏幕查看并在必要时更改几个建议的安装设置。列出每个设置的当前配置。要更改它，请单击标题。某些设置，例如防火墙或 SSH，可以通过单击相应的链接直接更改。

::: tip 远程访问
您可以在此处进行更改，也可以稍后随时从已安装的系统进行更改。但是，如果您需要在安装后直接进行远程访问，则必须调整安全设置。
:::

![[install_summary_osuse.png]](./image/install_summary_osuse.png)

##### 启动

本节显示引导加载程序配置。仅在确实需要时才建议更改默认值。有关详细信息，请参阅“引导加载程序 GRUB 2”（↑参考“_参考指南_”,Chapter 12）。

##### 软件

默认的软件范围包括基本系统和带有选定桌面的 X Window。单击软件打开软件选择和系统任务"屏幕"，您可以在其中通过选择或取消选择模式来更改软件选择。每个模式包含特定功能所需的几个软件包（例如，Web 和 LAMP 服务器或打印服务器）。要根据要安装的软件包进行更详细的选择，请选择详细信息以切换到 YaST 软件管理器。有关详细信息，请参阅"[第 9 章 安装或删除软件](https://doc.opensuse.org/documentation/leap/startup/html/book-startup/cha-yast-software.html)"。

##### 默认系统目标

如果您选择安装桌面系统，系统将引导至图形目标，并支持网络、多用户和显示管理器。如果您尚未安装桌面，系统将引导至登录 shell（文本模式）。

##### 系统

单击"系统"查看详细的硬件信息。在出现的屏幕中，您还可以更改内核设置——有关详细信息，请参阅 "[第3.11.7节 系统](https://doc.opensuse.org/documentation/leap/startup/html/book-startup/cha-install.html#sec-yast-install-proposal-system)” 的部分。

##### 安全

CPU 缓解措施是指已部署以防止 CPU 侧信道攻击的软件缓解措施的内核启动命令行参数。单击突出显示的条目以选择不同的选项。有关详细信息，请参阅“CPU 缓解措施”（“启动加载器 GRUB 2”部分，↑参考“参考指南“,Chapter 12）。

默认情况下，防火墙启用并为 public 区域配置所有网络接口，默认情况下所有端口都关闭，以确保最大的安全性。有关配置详细信息，请参阅“伪装和防火墙”（↑参考“安全和强化手册“）。

默认情况下 SSH 服务是禁用的，它的端口 (22) 是关闭的。因此默认情况下无法从远程登录。单击启用并打开以切换这些设置。

##### 网络配置

显示当前网络配置。单击网络配置以更改设置。有关详细信息，请参阅“使用 YaST 配置网络连接”（“基本网络”部分，↑参考）。

##### 1.3.11 开始安装

![[upgrade_confirm_osuse.png]](./image/upgrade_confirm_osuse.png)

在安装设置屏幕上完成系统配置后，单击安装。根据您选择的软件，您可能需要在安装确认屏幕弹出之前同意许可协议。到目前为止，尚未对您的系统进行任何更改。第二次单击“安装”后，安装过程开始。

##### 1.3.12 安装过程

![[install_perform_osuse.png]](./image/install_perform_osuse.png)

安装期间，详细信息选项卡上会详细显示进度。 openSUSE Leap 发布说明标签页显示重要信息；建议阅读它们。

安装进程完成后，计算机将重新启动到已安装的系统中。登录并启动 YaST 以微调系统。如果您没有使用图形桌面或正在远程工作，请参阅“文本模式下的 YaST”(↑参考“参考指南”,Chapter 1)，了解有关从终端使用 YaST 的信息。
